<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>배열 사용</title>
    <script type="text/javascript">
      // 배열 깊은 복사
      // JSON 객체 기능을 활용
      // JSON.parse() -> 구문 분석
      // JSON.stringify() -> 문자열로 변환

      // 1. 배열 선언
      let arr = [1, 2, 3];
      // 2. 깊은 복사
      let arrCopy = JSON.parse(JSON.stringify(arr)); // 깊은 복사

      let arrCopy2 = Array.from(arr); // 깊은 복사

      console.log(`원본: ${arr}`);
      console.log(`복사본: ${arrCopy}`);
      console.log(`복사본2: ${arrCopy2}`);

      console.log(arr === arrCopy); // false, 다른 참조를 가리킴
      console.log(arr === arrCopy2); // false, 다른 참조를 가리킴

      console.log("원본 배열의 첫 번째 요소를 변경합니다.");
      arr[0] = 10; // 원본 배열의 첫 번째 요소를 변경
      console.log(`원본: ${arr}`);
      console.log(`복사본: ${arrCopy}`); // 복사본은 변경
      console.log(`복사본2: ${arrCopy2}`); // 복사본2도 변경

      // 배열의 깊은 복사 방법
      // 1. JSON.parse(JSON.stringify(arr))
      // 2. Array.from(arr)
      // 3. arr.slice()
      // 4. spread operator: [...arr]
      // 5. arr.concat()
      // 6. for loop를 사용하여 수동으로 복사
    </script>
  </head>
  <body></body>
</html>
